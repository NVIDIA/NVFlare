(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{89924:function(e,t,n){"use strict";n.d(t,{y:function(){return x}});var r=n(9669),o=n.n(r),i=n(84506),s=n(68253),a=n(35823),c=n.n(a),u=i,l=o().create({baseURL:u.url_root+"/api/v1/",headers:{"Access-Control-Allow-Origin":"*"}});l.interceptors.request.use((function(e){return e.headers.Authorization="Bearer "+(0,s.Gg)().user.token,e}),(function(e){console.log("Interceptor request error: "+e)})),l.interceptors.response.use((function(e){return e}),(function(e){throw console.log(" AXIOS error: "),console.log(e),401===e.response.status&&(0,s.KY)("","",-1,0,"",!0),403===e.response.status&&console.log("Error: "+e.response.data.status),409===e.response.status&&console.log("Error: "+e.response.data.status),422===e.response.status&&(0,s.KY)("","",-1,0,"",!0),e}));var d=function(e){return e.data},f=function(e){return l.get(e).then(d)},p=function(e,t,n){return l.post(e,{pin:n},{responseType:"blob"}).then((function(e){t=e.headers["content-disposition"].split('"')[1],c()(e.data,t)}))},h=function(e,t){return l.post(e,t).then(d)},m=function(e,t){return l.patch(e,t).then(d)},g=function(e){return l.delete(e).then(d)},x={login:function(e){return h("login",e)},getUsers:function(){return f("users")},getUser:function(e){return f("users/".concat(e))},getUserStartupKit:function(e,t,n){return p("users/".concat(e,"/blob"),t,n)},getClientStartupKit:function(e,t,n){return p("clients/".concat(e,"/blob"),t,n)},getOverseerStartupKit:function(e,t){return p("overseer/blob",e,t)},getServerStartupKit:function(e,t,n){return p("servers/".concat(e,"/blob"),t,n)},getClients:function(){return f("clients")},getProject:function(){return f("project")},postUser:function(e){return h("users",e)},patchUser:function(e,t){return m("users/".concat(e),t)},deleteUser:function(e){return g("users/".concat(e))},postClient:function(e){return h("clients",e)},patchClient:function(e,t){return m("clients/".concat(e),t)},deleteClient:function(e){return g("clients/".concat(e))},patchProject:function(e){return m("project",e)},getServer:function(){return f("server")},patchServer:function(e){return m("server",e)}}},57061:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r=n(50029),o=n(87794),i=n.n(o),s=n(41664),a=n.n(s),c=n(29224),u=n.n(c),l=n(70491),d=n.n(l),f=n(86188),p=n.n(f),h=n(31096),m=h.default.div.withConfig({displayName:"styles__StyledLayout",componentId:"sc-xczy9u-0"})(["overflow:hidden;height:100%;width:100%;margin:0;padding:0;display:flex;flex-wrap:wrap;.menu{height:auto;}.content-header{flex:0 0 80px;}"]),g=h.default.div.withConfig({displayName:"styles__StyledContent",componentId:"sc-xczy9u-1"})(["display:flex;flex-direction:column;flex:1 1 0%;overflow:auto;height:calc(100% - 3rem);.inlineeditlarger{padding:10px;}.inlineedit{padding:10px;margin:-10px;}.content-wrapper{padding:",";min-height:800px;}"],(function(e){return e.theme.spacing.four})),x=n(11163),j=n(84506),v=n(67294),w=n(68253),S=n(13258),b=n.n(S),y=n(5801),C=n.n(y),I=n(89924),_=n(85893),M=function(e){var t=e.children,n=e.headerChildren,o=e.title,s=(0,x.useRouter)(),c=s.pathname,l=s.push,h=j,y=(0,v.useState)(),M=y[0],N=y[1],k=(0,w.Gg)();(0,v.useEffect)((function(){I.y.getProject().then((function(e){N(e.project)}))}),[]);var P=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,w.KY)("none","",-1,0),l("/");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,_.jsxs)(m,{children:[(0,_.jsx)(u(),{app:null===M||void 0===M?void 0:M.short_name,appBarActions:k.user.role>0?(0,_.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginRight:10},children:[h.demo&&(0,_.jsx)("div",{children:"DEMO MODE"}),(0,_.jsx)(b(),{parentElement:(0,_.jsx)(C(),{icon:{name:"AccountCircleGenericUser",color:"white",size:22},shape:"circle",variant:"link",className:"logout-link"}),position:"top-right",children:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(S.ActionMenuItem,{label:"Logout",onClick:P}),!1]})})]}):(0,_.jsx)(_.Fragment,{})}),(0,_.jsxs)(p(),{className:"menu",itemMatchPattern:function(e){return e===c},itemRenderer:function(e){var t=e.title,n=e.href;return(0,_.jsx)(a(),{href:n,children:t})},location:c,children:[0==k.user.role&&(0,_.jsxs)(f.MenuContent,{children:[(0,_.jsx)(f.MenuItem,{href:"/",icon:{name:"AccountUser"},title:"Login"}),(0,_.jsx)(f.MenuItem,{href:"/registration-form",icon:{name:"ObjectsClipboardEdit"},title:"User Registration Form"})]}),4==k.user.role&&(0,_.jsxs)(f.MenuContent,{children:[(0,_.jsx)(f.MenuItem,{href:"/",icon:{name:"ViewList"},title:"Project Home"}),(0,_.jsx)(f.MenuItem,{href:"/user-dashboard",icon:{name:"ServerEdit"},title:"My Info"}),(0,_.jsx)(f.MenuItem,{href:"/project-admin-dashboard",icon:{name:"AccountGroupShieldAdd"},title:"Users Dashboard"}),(0,_.jsx)(f.MenuItem,{href:"/site-dashboard",icon:{name:"ConnectionNetworkComputers2"},title:"Client Sites"}),(0,_.jsx)(f.MenuItem,{href:"/project-configuration",icon:{name:"SettingsCog"},title:"Project Configuration"}),(0,_.jsx)(f.MenuItem,{href:"/application-config",icon:{name:"WindowModule"},title:"Application Configuration"}),(0,_.jsx)(f.MenuItem,{href:"/server-config",icon:{name:"ConnectionServerNetwork1"},title:"Server Configuration"}),(0,_.jsx)(f.MenuItem,{href:"/downloads",icon:{name:"ActionsDownload"},title:"Downloads"}),(0,_.jsx)(f.MenuItem,{href:"/logout",icon:{name:"PlaybackStop"},title:"Logout"})]}),(1==k.user.role||2==k.user.role||3==k.user.role)&&(0,_.jsxs)(f.MenuContent,{children:[(0,_.jsx)(f.MenuItem,{href:"/",icon:{name:"ViewList"},title:"Project Home Page"}),(0,_.jsx)(f.MenuItem,{href:"/user-dashboard",icon:{name:"ServerEdit"},title:"My Info"}),(0,_.jsx)(f.MenuItem,{href:"/downloads",icon:{name:"ActionsDownload"},title:"Downloads"}),(0,_.jsx)(f.MenuItem,{href:"/logout",icon:{name:"PlaybackStop"},title:"Logout"})]}),(0,_.jsx)(f.MenuFooter,{})]}),(0,_.jsxs)(g,{children:[(0,_.jsx)(d(),{className:"content-header",title:o,children:n}),(0,_.jsx)("div",{className:"content-wrapper",children:t})]})]})}},56921:function(e,t,n){"use strict";n.d(t,{P:function(){return u},X:function(){return c}});var r=n(31096),o=n(36578),i=n.n(o),s=n(3159),a=n.n(s),c=(0,r.default)(a()).withConfig({displayName:"form-page__StyledFormExample",componentId:"sc-rfrcq8-0"})([".bottom{display:flex;gap:",";}.zero-left{margin-left:0;}.zero-right{margin-right:0;}"],(function(e){return e.theme.spacing.four})),u=(0,r.default)(i()).withConfig({displayName:"form-page__StyledBanner",componentId:"sc-rfrcq8-1"})(["margin-bottom:1rem;"])},16050:function(e,t,n){"use strict";n.r(t);var r=n(82175),o=n(74231),i=n(5801),s=n.n(i),a=n(24777),c=n.n(a),u=n(57061),l=n(56921),d=n(67294),f=n(89924),p=n(11163),h=n(85893),m=o.Ry().shape({app_location:o.Z_()});t.default=function(){var e=(0,p.useRouter)().push,t=(0,d.useState)(),n=t[0],o=t[1];return(0,d.useEffect)((function(){f.y.getProject().then((function(e){o(e.project)}))}),[]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(u.Z,{title:"Application Configuration:",children:n?(0,h.jsx)(r.J9,{initialValues:n,onSubmit:function(t,n){f.y.patchProject({app_location:t.app_location}).then((function(e){"ok"==e.status&&o(e.project),n.setSubmitting(!1),n.resetForm({values:e.project})})).catch((function(t){console.log(t),e("/")}))},validationSchema:m,children:function(e){return(0,h.jsxs)(h.Fragment,{children:[e.values.frozen&&(0,h.jsx)(l.P,{status:"warning",rounded:!0,children:"This project has been frozen. Project values are no longer editable."}),(0,h.jsxs)(l.X,{loading:e.isSubmitting,title:"",children:[(0,h.jsx)(r.gN,{as:c(),className:"zero-left zero-right",disabled:e.isSubmitting||e.values.frozen,label:"Docker Download Link",name:"app_location",pattern:e.errors.description,placeholder:"",validationMessage:e.errors.description}),(0,h.jsx)(s(),{disabled:!e.dirty||!e.isValid||e.values.frozen,onClick:function(){return e.handleSubmit()},children:"Save"})]})]})}}):(0,h.jsx)("span",{children:"loading..."})})})}},68253:function(e,t,n){"use strict";n.d(t,{Gg:function(){return s},KY:function(){return o},a5:function(){return i}});var r={user:{email:"",token:"",id:-1,role:0},status:"unauthenticated"};function o(e,t,n,o,i){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return r={user:{email:e,token:t,id:n,role:o,org:i},expired:s,status:0==o?"unauthenticated":"authenticated"},localStorage.setItem("session",JSON.stringify(r)),r}function i(e){return r={user:{email:r.user.email,token:r.user.token,id:r.user.id,role:e,org:r.user.org},expired:r.expired,status:r.status},localStorage.setItem("session",JSON.stringify(r)),r}function s(){var e=localStorage.getItem("session");return null!=e&&(r=JSON.parse(e)),r}},44780:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/application-config",function(){return n(16050)}])},50029:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,c,"next",e)}function c(e){r(s,o,i,a,c,"throw",e)}a(void 0)}))}}n.d(t,{Z:function(){return o}})},84506:function(e){"use strict";e.exports=JSON.parse('{"projectname":"New FL Project","demo":false,"url_root":"http://127.0.0.1:443","arraydata":[{"name":"itemone"},{"name":"itemtwo"},{"name":"itemthree"}]}')}},function(e){e.O(0,[443,27,774,888,179],(function(){return t=44780,e(e.s=t);var t}));var t=e.O();_N_E=t}]);