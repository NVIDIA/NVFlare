(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{88916:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Styles=void 0;const a=o(n(67294)),c=o(n(31096)),l=n(7347),u=s(n(24777)),d=s(n(5801)),f=s(n(14167));t.Styles=f.default;const p=c.default.div`
  ${f.default.passwordContainer}
`;p.displayName="PasswordContainer";const h=(0,c.default)(u.default)``;h.displayName="Password";const m=(0,c.default)(d.default)`
  ${f.default.toggleVisibilityIcon}
`;m.displayName="VisibilityButton",t.default=function({autoFocus:e,className:t,disabled:n,form:r,id:i,inputMode:o,label:s,maxLength:u,minLength:d,name:f,onBlur:g,onCopy:j,onCut:x,onChange:v,onFocus:y,onKeyDown:b,onKeyPress:w,onKeyUp:_,onPaste:C,pattern:P,placeholder:S,readOnly:O,required:k,showVisibilityToggle:M=!0,tabIndex:N,title:I,validationMessage:z,value:E}){const K=(0,a.useContext)(l.KaizenThemeContext),[A,F]=(0,a.useState)(!1);return a.default.createElement(c.ThemeProvider,{theme:K},a.default.createElement(p,{className:t,"data-testid":"kui-password"},a.default.createElement(h,{autoCapitalize:"off",autoComplete:"on",autoFocus:e,disabled:n,form:r,id:i,inputMode:o,inputType:A?"singleLine":"password",label:s,maxLength:u,minLength:d,name:f,onBlur:g,onCopy:j,onCut:x,onChange:v,onFocus:y,onKeyDown:b,onKeyPress:w,onKeyUp:_,onPaste:C,pattern:P,placeholder:S,readOnly:O,required:k,showValidIcon:!1,spellCheck:!1,tabIndex:N,title:I,value:E,validationMessage:z}),M&&a.default.createElement(m,{onClick:()=>{F(!A)},icon:{name:A?"ActionsHide":"ActionsView"},variant:"link"})))}},14167:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={passwordContainer:"\n  position: relative;\n  width: 100%;\n",toggleVisibilityIcon:"\n  position: absolute;\n  right: 1rem;\n  top: 2.5rem;\n"}},89924:function(e,t,n){"use strict";n.d(t,{y:function(){return j}});var r=n(9669),i=n.n(r),o=n(84506),s=n(68253),a=n(35823),c=n.n(a),l=o,u=i().create({baseURL:l.url_root+"/api/v1/",headers:{"Access-Control-Allow-Origin":"*"}});u.interceptors.request.use((function(e){return e.headers.Authorization="Bearer "+(0,s.Gg)().user.token,e}),(function(e){console.log("Interceptor request error: "+e)})),u.interceptors.response.use((function(e){return e}),(function(e){throw console.log(" AXIOS error: "),console.log(e),401===e.response.status&&(0,s.KY)("","",-1,0,"",!0),403===e.response.status&&console.log("Error: "+e.response.data.status),409===e.response.status&&console.log("Error: "+e.response.data.status),422===e.response.status&&(0,s.KY)("","",-1,0,"",!0),e}));var d=function(e){return e.data},f=function(e){return u.get(e).then(d)},p=function(e,t,n){return u.post(e,{pin:n},{responseType:"blob"}).then((function(e){t=e.headers["content-disposition"].split('"')[1],c()(e.data,t)}))},h=function(e,t){return u.post(e,t).then(d)},m=function(e,t){return u.patch(e,t).then(d)},g=function(e){return u.delete(e).then(d)},j={login:function(e){return h("login",e)},getUsers:function(){return f("users")},getUser:function(e){return f("users/".concat(e))},getUserStartupKit:function(e,t,n){return p("users/".concat(e,"/blob"),t,n)},getClientStartupKit:function(e,t,n){return p("clients/".concat(e,"/blob"),t,n)},getOverseerStartupKit:function(e,t){return p("overseer/blob",e,t)},getServerStartupKit:function(e,t,n){return p("servers/".concat(e,"/blob"),t,n)},getClients:function(){return f("clients")},getProject:function(){return f("project")},postUser:function(e){return h("users",e)},patchUser:function(e,t){return m("users/".concat(e),t)},deleteUser:function(e){return g("users/".concat(e))},postClient:function(e){return h("clients",e)},patchClient:function(e,t){return m("clients/".concat(e),t)},deleteClient:function(e){return g("clients/".concat(e))},patchProject:function(e){return m("project",e)},getServer:function(){return f("server")},patchServer:function(e){return m("server",e)}}},57061:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(50029),i=n(87794),o=n.n(i),s=n(41664),a=n.n(s),c=n(29224),l=n.n(c),u=n(70491),d=n.n(u),f=n(86188),p=n.n(f),h=n(31096),m=h.default.div.withConfig({displayName:"styles__StyledLayout",componentId:"sc-xczy9u-0"})(["overflow:hidden;height:100%;width:100%;margin:0;padding:0;display:flex;flex-wrap:wrap;.menu{height:auto;}.content-header{flex:0 0 80px;}"]),g=h.default.div.withConfig({displayName:"styles__StyledContent",componentId:"sc-xczy9u-1"})(["display:flex;flex-direction:column;flex:1 1 0%;overflow:auto;height:calc(100% - 3rem);.inlineeditlarger{padding:10px;}.inlineedit{padding:10px;margin:-10px;}.content-wrapper{padding:",";min-height:800px;}"],(function(e){return e.theme.spacing.four})),j=n(11163),x=n(84506),v=n(67294),y=n(68253),b=n(13258),w=n.n(b),_=n(5801),C=n.n(_),P=n(89924),S=n(85893),O=function(e){var t=e.children,n=e.headerChildren,i=e.title,s=(0,j.useRouter)(),c=s.pathname,u=s.push,h=x,_=(0,v.useState)(),O=_[0],k=_[1],M=(0,y.Gg)();(0,v.useEffect)((function(){P.y.getProject().then((function(e){k(e.project)}))}),[]);var N=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,y.KY)("none","",-1,0),u("/");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,S.jsxs)(m,{children:[(0,S.jsx)(l(),{app:null===O||void 0===O?void 0:O.short_name,appBarActions:M.user.role>0?(0,S.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginRight:10},children:[h.demo&&(0,S.jsx)("div",{children:"DEMO MODE"}),(0,S.jsx)(w(),{parentElement:(0,S.jsx)(C(),{icon:{name:"AccountCircleGenericUser",color:"white",size:22},shape:"circle",variant:"link",className:"logout-link"}),position:"top-right",children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.ActionMenuItem,{label:"Logout",onClick:N}),!1]})})]}):(0,S.jsx)(S.Fragment,{})}),(0,S.jsxs)(p(),{className:"menu",itemMatchPattern:function(e){return e===c},itemRenderer:function(e){var t=e.title,n=e.href;return(0,S.jsx)(a(),{href:n,children:t})},location:c,children:[0==M.user.role&&(0,S.jsxs)(f.MenuContent,{children:[(0,S.jsx)(f.MenuItem,{href:"/",icon:{name:"AccountUser"},title:"Login"}),(0,S.jsx)(f.MenuItem,{href:"/registration-form",icon:{name:"ObjectsClipboardEdit"},title:"User Registration Form"})]}),4==M.user.role&&(0,S.jsxs)(f.MenuContent,{children:[(0,S.jsx)(f.MenuItem,{href:"/",icon:{name:"ViewList"},title:"Project Home"}),(0,S.jsx)(f.MenuItem,{href:"/user-dashboard",icon:{name:"ServerEdit"},title:"My Info"}),(0,S.jsx)(f.MenuItem,{href:"/project-admin-dashboard",icon:{name:"AccountGroupShieldAdd"},title:"Users Dashboard"}),(0,S.jsx)(f.MenuItem,{href:"/site-dashboard",icon:{name:"ConnectionNetworkComputers2"},title:"Client Sites"}),(0,S.jsx)(f.MenuItem,{href:"/project-configuration",icon:{name:"SettingsCog"},title:"Project Configuration"}),(0,S.jsx)(f.MenuItem,{href:"/application-config",icon:{name:"WindowModule"},title:"Application Configuration"}),(0,S.jsx)(f.MenuItem,{href:"/server-config",icon:{name:"ConnectionServerNetwork1"},title:"Server Configuration"}),(0,S.jsx)(f.MenuItem,{href:"/downloads",icon:{name:"ActionsDownload"},title:"Downloads"}),(0,S.jsx)(f.MenuItem,{href:"/logout",icon:{name:"PlaybackStop"},title:"Logout"})]}),(1==M.user.role||2==M.user.role||3==M.user.role)&&(0,S.jsxs)(f.MenuContent,{children:[(0,S.jsx)(f.MenuItem,{href:"/",icon:{name:"ViewList"},title:"Project Home Page"}),(0,S.jsx)(f.MenuItem,{href:"/user-dashboard",icon:{name:"ServerEdit"},title:"My Info"}),(0,S.jsx)(f.MenuItem,{href:"/downloads",icon:{name:"ActionsDownload"},title:"Downloads"}),(0,S.jsx)(f.MenuItem,{href:"/logout",icon:{name:"PlaybackStop"},title:"Logout"})]}),(0,S.jsx)(f.MenuFooter,{})]}),(0,S.jsxs)(g,{children:[(0,S.jsx)(d(),{className:"content-header",title:i,children:n}),(0,S.jsx)("div",{className:"content-wrapper",children:t})]})]})}},88001:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(41664),i=n.n(r),o=n(29224),s=n.n(o),a=n(70491),c=n.n(a),l=n(86188),u=n.n(l),d=n(31096),f=d.default.div.withConfig({displayName:"styles__StyledLayout",componentId:"sc-y3h7zi-0"})(["overflow:hidden;height:100%;width:100%;margin:0;padding:0;display:flex;flex-wrap:wrap;.menu{height:auto;}.content-header{flex:0 0 80px;}"]),p=d.default.div.withConfig({displayName:"styles__StyledContent",componentId:"sc-y3h7zi-1"})(["display:flex;flex-direction:column;flex:1 1 0%;overflow:auto;height:calc(100% - 3rem);.inlineeditlarger{padding:10px;}.inlineedit{padding:10px;margin:-10px;}.content-wrapper{padding:",";min-height:800px;}"],(function(e){return e.theme.spacing.four})),h=n(11163),m=(n(84506),n(67294)),g=n(68253),j=n(89924),x=n(85893),v=function(e){var t=e.children,n=e.headerChildren,r=e.title,o=(0,h.useRouter)(),a=o.pathname,l=(o.push,(0,m.useState)()),d=l[0],v=l[1];(0,g.Gg)();return(0,m.useEffect)((function(){j.y.getProject().then((function(e){v(e.project)}))}),[]),(0,x.jsxs)(f,{children:[(0,x.jsx)(s(),{app:null===d||void 0===d?void 0:d.short_name}),(0,x.jsx)(u(),{className:"menu",itemMatchPattern:function(e){return e===a},itemRenderer:function(e){var t=e.title,n=e.href;return(0,x.jsx)(i(),{href:n,children:t})},location:a}),(0,x.jsxs)(p,{children:[(0,x.jsx)(c(),{className:"content-header",title:r,children:n}),(0,x.jsx)("div",{className:"content-wrapper",children:t})]})]})}},56921:function(e,t,n){"use strict";n.d(t,{P:function(){return l},X:function(){return c}});var r=n(31096),i=n(36578),o=n.n(i),s=n(3159),a=n.n(s),c=(0,r.default)(a()).withConfig({displayName:"form-page__StyledFormExample",componentId:"sc-rfrcq8-0"})([".bottom{display:flex;gap:",";}.zero-left{margin-left:0;}.zero-right{margin-right:0;}"],(function(e){return e.theme.spacing.four})),l=(0,r.default)(o()).withConfig({displayName:"form-page__StyledBanner",componentId:"sc-rfrcq8-1"})(["margin-bottom:1rem;"])},73639:function(e,t,n){"use strict";n.r(t);var r=n(59499),i=n(50029),o=n(87794),s=n.n(o),a=n(82175),c=n(74231),l=n(3159),u=n.n(l),d=n(5801),f=n.n(d),p=n(24777),h=n.n(p),m=n(30038),g=n.n(m),j=n(88916),x=n.n(j),v=n(57061),y=n(11163),b=n(68253),w=n(84506),_=n(89924),C=n(56921),P=n(67294),S=n(88001),O=n(57539),k=n.n(O),M=n(85893);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=k(),E=c.Ry().shape({username:c.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:c.Z_().max(50,"Too Long!").required("Required")});t.default=function(){var e=(0,y.useRouter)().push,t=(0,b.Gg)(),n=(0,P.useState)(!1),r=n[0],o=n[1],c=w,l=(0,P.useState)(),d=l[0],p=l[1],m=(0,P.useState)([]),j=m[0],O=m[1],k=(0,P.useState)(!1),N=k[0],K=k[1];(0,P.useEffect)((function(){_.y.getProject().then((function(e){p(e.project)})),t.user.role>0&&_.y.getClients().then((function(e){var t=e.client_list.filter((function(e){return e.approval_state>=100}));O(t)})).catch((function(){}))}),[]);var A=function(){var t=(0,i.Z)(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.demo?({data:{status:"ok",setup:"false"}},n.username.includes("supersuper")?((0,b.KY)(n.username,n.password,1,5),e("/project-admin-dashboard")):n.username.includes("projectadmin")?((0,b.KY)(n.username,n.password,1,4),e("/project-admin-dashboard")):n.username.includes("orgadmin")?((0,b.KY)(n.username,n.password,1,3),e("/user-dashboard")):((0,b.KY)(n.username,n.password,1,1),e("/user-dashboard"))):_.y.login({email:n.username,password:n.password}).then((function(t){"undefined"!==typeof t?"ok"==t.status&&("project_admin"==t.user.role?((0,b.KY)(t.user.email,t.access_token,t.user.id,4),"undefined"==typeof d||d.public?e("/project-admin-dashboard"):e("/project-configuration")):"org_admin"==t.user.role?((0,b.KY)(t.user.email,t.access_token,t.user.id,3),e("/user-dashboard")):"lead"==t.user.role?((0,b.KY)(t.user.email,t.access_token,t.user.id,2),e("/user-dashboard")):"member"==t.user.role?((0,b.KY)(t.user.email,t.access_token,t.user.id,1),e("/user-dashboard")):""==t.user.role&&((0,b.KY)(t.user.email,t.access_token,t.user.id,-1),e("/registration-form"))):alert("Error: make sure site is up and configured.")})).catch((function(e){console.log(e),(0,b.KY)("","",-1,0),o(!0)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=[{accessor:"name"},{accessor:"capacity",Cell:function(e){var t=e.value;return"NUM GPUS: "+t.num_of_gpus+";  MEM/GPU: "+t.mem_per_gpu_in_GiB}},{accessor:"organization",Cell:function(e){var t=e.value;return(0,M.jsx)(M.Fragment,{children:(0,M.jsx)("div",{className:"inlineedit",children:t||"[none]"})})}}];return(0,M.jsx)(a.J9,{initialValues:{username:"",password:""},onSubmit:A,validationSchema:E,children:function(n){return d?t.user.role>0?(0,M.jsxs)(v.Z,{title:d.title?d.title:"PROJECT TITLE placeholder",children:[4==t.user.role?(0,M.jsx)("div",{style:{marginBottom:"0.75em"},children:(0,M.jsxs)(u(),{children:[d.frozen?(0,M.jsx)("span",{children:"This project has been frozen. Project values including the application configuartion and server configurations are no longer editable."}):(0,M.jsx)("span",{children:"Once all the project values including the application configuartion and server configurations are set, freeze the project to create certificates based on the server configurations and allow users to download startup kits:"}),(0,M.jsx)("br",{}),(0,M.jsx)("br",{}),(0,M.jsx)(f(),{type:"info",disabled:d.frozen||!d.public,onClick:function(){return K(!0)},children:"Freeze Project"}),d.frozen?(0,M.jsx)(M.Fragment,{}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("br",{}),(0,M.jsx)("span",{children:"Note that after freezing the project, there is no way to unfreeze the project and all of these values will no longer be editable."})]})]})}):(0,M.jsx)(M.Fragment,{}),(0,M.jsxs)("div",{style:{float:"left",width:"100%",paddingRight:"488px",minHeight:"577px",fontSize:"25px"},children:[(0,M.jsx)(u(),{children:d.description}),(0,M.jsx)("div",{style:{marginBottom:"0.5em"}}),(0,M.jsx)(u(),{title:"Client Sites",children:(0,M.jsx)(z,{columns:F,data:j,rowOnClick:function(e){console.log("clicked row"),console.log(e)},disableColumnHiding:!0,disableExport:!0,disableFilters:!0,getRowId:function(e,t){return""+e.id}})})]}),(0,M.jsx)("div",{style:{position:"absolute",right:0,width:"487px"}}),(0,M.jsx)("div",{style:{position:"absolute",right:0,paddingRight:"1em",width:"487px"},children:(0,M.jsx)(u(),{children:(0,M.jsxs)(u(),{children:[(0,M.jsxs)("div",{children:["Clients registered: ",d.num_clients]}),(0,M.jsxs)("div",{children:["Organizations joined: ",d.num_orgs]}),(0,M.jsxs)("div",{children:["Planned start date: ",d.starting_date]}),(0,M.jsxs)("div",{children:["Planned end date: ",d.end_date]})]})})}),(0,M.jsx)(g(),{footer:(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(f(),{type:"secondary",variant:"outline",onClick:function(){K(!1)},children:"Cancel"}),(0,M.jsx)(f(),{type:"info",disabled:d.frozen,onClick:function(){_.y.patchProject({frozen:!0}).then((function(e){p(e.project)})).catch((function(t){console.log(t),e("/")})),p(I(I({},d),{},{frozen:!0})),K(!1)},children:"Freeze"})]}),size:"large",open:N,title:"Confirm Freeze Project?",closeOnBackdropClick:!1,children:(0,M.jsx)("div",{children:"Note that after freezing the project, the project information including the application and server configurations can no longer be changed!"})})]}):(0,M.jsxs)(S.Z,{title:d.title?d.title:"PROJECT TITLE placeholder",children:[t.expired&&(0,M.jsx)(C.P,{status:"warning",rounded:!0,children:"Your session has expired. Please log in again."}),r&&(0,M.jsx)(C.P,{status:"warning",rounded:!0,children:"Login attempt failed. Please check that your username and password are correct and try again."}),(0,M.jsx)("div",{style:{float:"left",width:"100%",paddingRight:"488px",minHeight:"577px"},children:(0,M.jsx)(u(),{children:d.description})}),(0,M.jsxs)("div",{style:{position:"absolute",right:0,width:"487px"},children:[(0,M.jsx)(u(),{children:(0,M.jsxs)(u(),{children:[(0,M.jsxs)("div",{children:["Clients registered: ",d.num_clients]}),(0,M.jsxs)("div",{children:["Organizations joined: ",d.num_orgs]}),(0,M.jsxs)("div",{children:["Planned start date: ",d.starting_date]}),(0,M.jsxs)("div",{children:["Planned end date: ",d.end_date]})]})}),(0,M.jsxs)(u(),{className:"form-example",loading:n.isSubmitting,title:"Login",children:[(0,M.jsx)(a.gN,{as:h(),className:"zero-left zero-right",disabled:n.isSubmitting,inputMode:"username",label:"Username / Email",name:"username",pattern:n.errors.username,validationMessage:n.errors.username}),(0,M.jsx)(a.gN,{as:x(),className:"zero-left",disabled:n.isSubmitting,label:"Password",name:"password",pattern:n.errors.password,validationMessage:n.errors.password}),(0,M.jsx)(f(),{disabled:!n.dirty||!n.isValid,onClick:function(){return n.handleSubmit()},children:"Sign In"}),d.public?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("br",{}),(0,M.jsx)("div",{style:{height:"1.18em",borderTop:"1px #606060 solid"}}),(0,M.jsx)("div",{style:{color:"#AAAAAA",fontSize:"1.25rem",fontWeight:500,marginBottom:"0.5em"},children:"New User"}),(0,M.jsx)(f(),{onClick:function(){return e("/registration-form")},children:"Sign Up"})]}):(0,M.jsx)(M.Fragment,{})]})]})]}):(0,M.jsx)("span",{children:"loading..."})}})}},68253:function(e,t,n){"use strict";n.d(t,{Gg:function(){return s},KY:function(){return i},a5:function(){return o}});var r={user:{email:"",token:"",id:-1,role:0},status:"unauthenticated"};function i(e,t,n,i,o){var s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return r={user:{email:e,token:t,id:n,role:i,org:o},expired:s,status:0==i?"unauthenticated":"authenticated"},localStorage.setItem("session",JSON.stringify(r)),r}function o(e){return r={user:{email:r.user.email,token:r.user.token,id:r.user.id,role:e,org:r.user.org},expired:r.expired,status:r.status},localStorage.setItem("session",JSON.stringify(r)),r}function s(){var e=localStorage.getItem("session");return null!=e&&(r=JSON.parse(e)),r}},48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(73639)}])},50029:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)}))}}n.d(t,{Z:function(){return i}})},84506:function(e){"use strict";e.exports=JSON.parse('{"projectname":"New FL Project","demo":false,"url_root":"http://127.0.0.1:443","arraydata":[{"name":"itemone"},{"name":"itemtwo"},{"name":"itemthree"}]}')}},function(e){e.O(0,[443,539,27,774,888,179],(function(){return t=48312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);