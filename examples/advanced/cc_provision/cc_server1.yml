compute_env: onprem_cvm
cc_cpu_mechanism: amd_sev_snp
role: server

# All drive sizes are in GB
root_drive_size: 30
applog_drive_size: 1
user_config_drive_size: 1
user_data_drive_size: 1
# Docker image archive saved using:
# docker save <image_name> | gzip > app.tar.gz
docker_archive: /tmp/base_images/app.tar.gz

allowed_ports: [8002]
allowed_out_ports: [443, 8999]

cc_issuers:
  - id: snp_authorizer
    path: nvflare.app_opt.confidential_computing.snp_authorizer.SNPAuthorizer
    token_expiration: 100 # seconds, needs to be less than check_frequency
    args:
      snpguest_binary: "/host/bin/snpguest"

cc_attestation:
  check_frequency: 120 # seconds
  failure_action: stop_job
