{
    "format_version": 2,
    "workflows": [
        {
            "id": "controller",
            "path": "nvflare.app_common.workflows.fedavg.FedAvg",
            "args": {
                "num_clients": 1,
                "num_rounds": 3
            }
        }
    ],
    "components": [
        {
            "id": "persistor",
            "path": "nvflare.app_opt.pt.file_model_persistor.PTFileModelPersistor",
            "args": {
                "model": {
                    "path": "src.hf_sft_model.CausalLMModel",
                    "args": {
                        "model_name_or_path": "meta-llama/llama-3.2-1b"
                    }
                }
            }
        },
        {
            "id": "model_selector",
            "path": "nvflare.app_common.widgets.intime_model_selector.IntimeModelSelector",
            "args": {
                "aggregation_weights": {},
                "key_metric": "eval_loss",
                "negate_key_metric": true
            }
        }
    ],
    "task_data_filters": [
        {
            "tasks": [
                "train"
            ],
            "filters": [
                {
                    "path": "nvflare.app_opt.quantization.numpy_quantizor.NumpyModelQuantizor",
                    "args": {
                        "quantization_type": "normfloat4"
                    }
                }
            ]
        }
    ],
    "task_result_filters": [
        {
            "tasks": [
                "train"
            ],
            "filters": [
                {
                    "path": "nvflare.app_opt.quantization.numpy_dequantizor.NumpyModelDequantizor",
                    "args": {}
                }
            ]
        }
    ]
}